# This file was created for <%= node.name %>
# by Chef
# Manual changes will be lost

$ModLoad imfile
$ModLoad imuxsock
$ModLoad imklog
$ModLoad immark
$MarkMessagePeriod <%= node['logstash']['rsyslog']['mark_message_period'] %>

$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

$RepeatedMsgReduction <%= node['logstash']['rsyslog']['repeated_msg_reduction'] %>

$FileOwner <%= node['logstash']['rsyslog']['file_owner'] %>
$FileGroup <%= node['logstash']['rsyslog']['file_group'] %>
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022
$PrivDropToUser <%= node['logstash']['rsyslog']['priv_drop_to_user'] %>
$PrivDropToGroup <%= node['logstash']['rsyslog']['priv_drop_to_group'] %>

$WorkDirectory <%= node['logstash']['rsyslog']['work_directory'] %>

$IncludeConfig <%= node['logstash']['rsyslog']['config_dir'] %>/*.conf
